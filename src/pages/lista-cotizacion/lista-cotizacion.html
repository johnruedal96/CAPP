<!--
  Generated template for the ListaCotizacionPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>

	<ion-navbar color="orange">

		<button ion-button menuToggle>
			<ion-icon name="menu"></ion-icon>
		</button>
		<div class="div_title">
			<img src="assets/icon_casco.png">
			<label>CAPP</label>
		</div>
		<ion-title>
			Cotización
		</ion-title>

	</ion-navbar>

</ion-header>


<ion-content padding>
	<div class="encabezado">
		<ion-row>
			<ion-col col-12 class="cabecera">Envío</ion-col>
			<ion-col col-4>
				<label><b>Fecha:</b></label>
			</ion-col>
			<ion-col col-8>
				<label><u>{{fecha}}</u></label>
			</ion-col>
		</ion-row>
		<ion-row>
			<ion-col col-4>
				<label><b>Hora:</b></label>
			</ion-col>
			<ion-col col-8>
				<label><u>{{hora}}</u></label>
			</ion-col>
		</ion-row>
		<ion-row *ngIf="estadoId == 2">
			<ion-col col-4>
				<label><b>Empresa:</b></label>
			</ion-col>
			<ion-col col-8>
				<label><u>{{empresa}}</u></label>
			</ion-col>
		</ion-row>
		<ion-row>
			<ion-col col-4>
				<label><b>Estado:</b></label>
			</ion-col>
			<ion-col col-8>
				<label><u>{{estado}}</u></label>
			</ion-col>
		</ion-row>
		<ion-row *ngIf="estadoId == 2">
			<ion-col col-12 class="cabecera">Respuesta</ion-col>
			<ion-col col-4>
				<label><b>Fecha</b></label>
			</ion-col>
			<ion-col col-8>
				<label><u>{{fecha_respuesta}}</u></label>
			</ion-col>
			<ion-col col-4>
				<label><b>Hora</b></label>
			</ion-col>
			<ion-col col-8>
				<label><u>{{hora_respuesta}}</u></label>
			</ion-col>
			<ion-col col-4>
				<label><b>Valor Domicilio</b></label>
			</ion-col>
			<ion-col col-8>
				<label><u>$ {{domicilio_respuesta}}</u></label>
			</ion-col>
			<ion-col col-4>
				<label><b>Dirección Domicilio</b></label>
			</ion-col>
			<ion-col col-8>
				<label><u>{{direccion_domicilio}}</u></label>
			</ion-col>
		</ion-row>
	</div>

	<div class="table">
		<ion-row color="darkCapp" class="table-head" *ngIf="estadoId != 2">
			<ion-col col-2>
				<label>Cant</label>
			</ion-col>
			<ion-col *ngIf="estadoId == 2">
				<label>Producto</label>
			</ion-col>
			<ion-col *ngIf="estadoId == 1">
				<label>Producto</label>
			</ion-col>
			<ion-col *ngIf="estadoId == 2">
				<label>Precio Unitario</label>
			</ion-col>
			<ion-col *ngIf="estadoId == 2">
				<label>Precio Total</label>
			</ion-col>
		</ion-row>
		<ion-row color="darkCapp" class="table-head" *ngIf="estadoId == 2">
			<ion-col col-1>
				<label></label>
			</ion-col>
			<ion-col col-2>
				<label>Cant</label>
			</ion-col>
			<ion-col *ngIf="estadoId == 2">
				<label>Producto</label>
			</ion-col>
			<ion-col *ngIf="estadoId == 1">
				<label>Producto</label>
			</ion-col>
			<ion-col *ngIf="estadoId == 2">
				<label>Precio Unitario</label>
			</ion-col>
			<ion-col *ngIf="estadoId == 2">
				<label>Precio Total</label>
			</ion-col>
		</ion-row>
		<div *ngIf="estadoId == 2">
			<ion-row *ngFor="let item of lista" class="table-body">
				<ion-col col-1 text-center class="btn-eliminar">
					<button ion-button clear>
						<ion-icon (click)="deleteItem(item)" name="close"></ion-icon>
					</button>
				</ion-col>
				<ion-col col-2 text-center class="col-cantidad">
					<ion-row>
						<ion-col class="divLabel" col-12><label>{{item.cantidad}}</label></ion-col>
						<ion-col class="divLabel" col-12>
							<label style="white-space: normal !important; font-size: 1rem !important">{{item.unidad}}</label>
						</ion-col>
					</ion-row>
				</ion-col>
				<ion-col *ngIf="estadoId == 2">
					<div class="divLabel"><label text-center>{{item.nombre}}</label></div>
				</ion-col>
				<ion-col *ngIf="estadoId == 1">
					<div class="divLabel"><label text-center>{{item.nombre}}</label></div>
				</ion-col>
				<ion-col *ngIf="estadoId == 2">
					<div class="divLabel"><label style="color:#5cb85c">${{(item.precio*1).toLocaleString()}}</label></div>
				</ion-col>
				<ion-col *ngIf="estadoId == 2">
					<div class="divLabel"><label style="color:#5cb85c">${{(item.precio * item.cantidad).toLocaleString()}}</label></div>
				</ion-col>
			</ion-row>
		</div>
		<div *ngIf="estadoId != 2">
			<ion-row *ngFor="let item of lista" class="table-body">
				<ion-col col-2 text-center class="col-cantidad">
					<ion-row>
						<ion-col class="divLabel" col-12><label>{{item.cantidad}}</label></ion-col>
						<ion-col class="divLabel" col-12>
							<label style="white-space: normal !important; font-size: 1rem !important">{{item.unidad}}</label>
						</ion-col>
					</ion-row>
				</ion-col>
				<ion-col col-6 *ngIf="estadoId == 2">
					<div class="divLabel"><label text-center>{{item.nombre}}</label></div>
				</ion-col>
				<ion-col col-10 *ngIf="estadoId == 1">
					<div class="divLabel"><label text-center>{{item.nombre}}</label></div>
				</ion-col>
				<ion-col col-4 *ngIf="estadoId == 2">
					<div class="divLabel"><label style="color:#5cb85c">$ {{(item.precio * item.cantidad).toLocaleString()}}</label></div>
				</ion-col>
			</ion-row>
		</div>
		<ion-row *ngIf="estadoId == 2" style="background-color: #333; color: white">
			<ion-col col-8 text-right>
				Total:
			</ion-col>
			<ion-col col-4 text-center>
				$ {{total.toLocaleString()}}
			</ion-col>
		</ion-row>
	</div>


	<button (click)="siguiente()" *ngIf="estadoId == 2" [disabled]="total == 0 || lista.length == 0" color="darkCapp" ion-button full>Siguiente</button>

</ion-content>